<!-- 保留原有的字体引入 -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&family=Noto+Sans+SC:wght@100..900&display=swap" rel="stylesheet">

<!-- 添加 sidenotes 样式 -->
<link rel="stylesheet" href="{{ "css/sidenotes.css" | relURL }}">

{{ if .Param "math" }}
    {{ partial "math.html" . }}
{{ end }}

<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "\\[", right: "\\]", display: true},
            {left: "$$", right: "$$", display: true},
            {left: "\\(", right: "\\)", display: false},
            {left: "$", right: "$", display: false}
        ],
        throwOnError: false,
        trust: true,  // 允许 HTML
        strict: false
    });
});
</script>